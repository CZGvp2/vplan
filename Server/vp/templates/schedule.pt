<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="description" content="Vertretungsplan des CZG" />
    <meta name="keywords" lang="de" content="Vertretungsplan, Carl-Zeiss, Gymnasium, Jena" />
    <title>Vertretungsplan</title>
    <link rel="stylesheet" type="text/css" href="${request.static_path('vp:static/css/schedule.css')}" />
    <link rel="shortcut icon" href="${request.static_path('vp:static/img/favicon.png')}" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <?python
    def color(subject):
        """Gibt die Farbe des Faches zurÃ¼ck"""
        colors = {
            'De': '#FF0000',
            'Ma': '#0000FF',
            'Bio': '#00FF00'
        }

        return colors.get(subject, '#555555') # Wert falls nicht gefunden
    ?>
</head>
<body>
    <div id="topbar">
        <a href="${request.route_path('home', _query='logout')}">Abmelden</a><br/>
        <a href="${request.route_path('upload')}" tal:condition="from_upload">ZurÃ¼ck zum bearbeiten</a>
    </div>
    <div class="slide" tal:repeat="day days">
        <div class="head">
        </div>
        <table class="table">
            <tr class="event" tal:repeat="event day.events">
                <td class="entry" data-targets="${ ' '.join(event['selector']['targets']) # Python Code!!! }" />
                <td class="entry" tal:content="event.time" />
                <td class="entry" tal:content="event.new['subject']" style="color: ${color(event.new['subject'])}" />
                <td class="entry" tal:content="event.new['teacher']" />
                <td class="entry" tal:content="event.new['room']" />
                <td class="entry" tal:content="event.old['subject']" /> 
                <td class="entry" tal:content="event.old['teacher']" />
                <td class="entry" tal:content="event.info" />
            </tr>
        </table>
    </div>
    <hr>
</body>
</html>