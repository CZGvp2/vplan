var currentIndex=0,animationTime=.5,t_out=-1,show_f_h=!1;filter=function(e){var t=$(".event");if(e)for(var n=0;n<t.length;n++){var i=$(t[n]),o=i.data().targets.split(" ");o.indexOf(e)<0?i.hide():i.show()}else t.show()},removeFilter=function(){$(".event").show()},setCookie=function(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie=e+"="+t+"; expires="+i.toUTCString()},getCookie=function(e){var t=document.cookie.split("; ");e+="=";for(var n=0;n<t.length;n++)if(-1!=t[n].indexOf(e))return t[n].substring(e.length+t[n].indexOf(e),t[n].length);return""},removeCookie=function(e){setCookie(e,"",-1)},setup=function(){filter(getCookie("class")),$("#fixedHeader").hide(),$(".empty_msg").hide(),$("#jsWarn").hide(),setSidebars(currentIndex,$(".slide")),showEmptyMessage($(".slide").get(currentIndex)),$("#input").val(getCookie("class")),0==getCookie("philip").indexOf("q")&&(getCookie("philip").substring(1)&&alert(getCookie("philip").substring(1)),$("body").css("background-image","linear-gradient(90deg, yellow, red, purple, blue, green, yellow)")),0==getCookie("gradient").indexOf("yes")&&$(".class_identifier").css("background-image","linear-gradient(to bottom, rgba(0,0,0,0) 40%, white 160%)");for(var e=$(".slide"),t=0;t<e.length;t++)e[t].style.display=t==currentIndex?"block":"none";$("#left").get(0).innerHTML=currentIndex>0?e[currentIndex-1].children[0].innerHTML:"---",$("#right").get(0).innerHTML=currentIndex<e.length-1?e[currentIndex+1].children[0].innerHTML:"---"},max=function(e,t){return Math.max(e,t)},min=function(e,t){return Math.min(e,t)},toggleSlide=function(e){var t=$(".slide");if(!(t.length<=1||t_out>=0)){var n="left"==e?max(currentIndex-1,0):min(currentIndex+1,t.length-1);if(n!=currentIndex){scrollTo(0,0),onScroll(0);for(var i=0;i<t.length;i++)t[i].style.display="none";t[n].style.display=t[currentIndex].style.display="block",t[currentIndex].style.animation=(n>currentIndex?"fade_left":"fade_right")+" "+animationTime+"s ease-in-out 0s 1",t[n].style.animation=(currentIndex>n?"from_left":"from_right")+" "+animationTime+"s ease-in-out 0s 1";var o=n,r=currentIndex;t[o].style.display="block",t_out=window.setTimeout(function(){t[r].style.display="none",t_out=-1},1e3*animationTime)}else t[currentIndex].style.display="none",t[n].style.display="block";currentIndex=n,setSidebars(currentIndex,t),showEmptyMessage(t[currentIndex])}},showEmptyMessage=function(e){0==$(e).find(".event:visible").length?$(e).find(".empty_msg").show():$(".empty_msg").hide()},setSidebars=function(e,t){e>0?($("#leftslidebutton").show(),$("#left").text($(t[e-1]).find(".slide_title").text())):$("#leftslidebutton").hide(),e<t.length-1?($("#rightslidebutton").show(),$("#right").text($(t[e+1]).find(".slide_title").text())):$("#rightslidebutton").hide()},toggleVisibility=function(e){return"none"==e.style.display?($(e).fadeIn(1e3*animationTime*.2),!0):($(e).fadeOut(1e3*animationTime*.2),!1)},onScroll=function(e){"number"==typeof e?$("#fixedHeader").hide():(e.preventDefault(),scrollY>$("#wrapper").height()-$("#fixedHeader").height()-20&&!show_f_h?($("#fixedHeader").fadeIn(1e3*animationTime*.5),show_f_h=!0):scrollY<$("#wrapper").height()-$("#fixedHeader").height()-20&&show_f_h&&($("#fixedHeader").fadeOut(1e3*animationTime*.5),show_f_h=!1))},toggleMenu=function(){toggleVisibility($("#menuContainer")[0])},toggleFilter=function(e){e?setCookie("class",e,100):removeCookie("class"),filter(e)},$(function(){$("#input").on("keyup keypress paste",function(e){toggleFilter($("#input").val())}),$("#menuSpace, #menuButton").on("click",toggleMenu),toggleMenu()}),$(document).on("keypress",function(e){switch(e.keyCode){case 37:toggleSlide("left"),e.preventDefault(),e.stopPropagation();break;case 39:toggleSlide("right"),e.preventDefault(),e.stopPropagation()}}),$(document).on("scroll",onScroll),$(setup);
